1. Prepare your DigitalOcean Droplet
Before configuring GitHub, ensure your Droplet is ready:
SSH Key: Generate an SSH key pair on your local machine (if you haven't already).
                                                         
1 Add the Public Key to ~/.ssh/authorized_keys on your Droplet

Permissions: Ensure the user you are logging in as (e.g., deploy or root) has ownership of the /var/www/html directory.
Web Server: Ensure Nginx/Apache is configured to point to the public folder of your Laravel project.3


2. Store Secrets in GitHub
Never hardcode passwords or keys in your workflow file. Go to your GitHub Repository Settings > Secrets and variables > Actions and add the following:
Secret Name
Description
DO_HOST
The IP address of your Droplet.
DO_USERNAME
The SSH user (e.g., ubuntu or root).
SSH_PRIVATE_KEY
The Private Key (starts with -----BEGIN OPENSSH PRIVATE KEY-----).

3. Create the Workflow File
Create a file at .github/workflows/deploy.yml in your repository.4 This example triggers a deployment whenever you push to the main branch.

YAML

name: Deploy Laravel App

on:
  push:
    branches: [ "main" ]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Deploy to DigitalOcean via SSH
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.DO_HOST }}
          username: ${{ secrets.DO_USERNAME }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          script: |
            cd /var/www/your-project-folder
            git pull origin main
            composer install --no-interaction --prefer-dist --optimize-autoloader
            php artisan migrate --force
            php artisan config:cache
            php artisan route:cache
            php artisan view:cache


4. How the Flow Works
Push: You push code to the main branch.
Trigger: GitHub Actions spins up a temporary Ubuntu container.
SSH Connection: The appleboy/ssh-action uses your stored private key to open a secure tunnel to your DigitalOcean Droplet.
Commands: It executes the script line-by-line:
git pull: Updates the code on the server.
composer install: Updates dependencies (skipping dev tools).
php artisan migrate --force: Runs database updates (the --force flag is required for production).5

cache: Optimizes Laravel performance by caching configurations and routes.
Important Considerations
Zero Downtime: The method above has a few seconds of downtime while commands run. For zero-downtime, consider using tools like Laravel Forge or a dedicated deployment script like Envoy.
PHP/Node Versions: Ensure the PHP version on your Droplet matches your composer.json requirements.
Environment Files: GitHub Actions does not manage your .env file. You must manually create and manage the .env file directly on the Droplet.
